// Zentro Homes - Translation System
const translations = {
  en: {
    // Header
    solutions: "Solutions",
    findYourInvestment: "Find Your Investment",
    lettingManagement: "Letting & Management",
    sellYourPortfolio: "Sell Your Portfolio",
    whoWeWorkWith: "Who We Work With",
    newInvestors: "New Investors",
    portfolioLandlords: "Portfolio Landlords",
    internationalBuyers: "International Buyers",
    blog: "Blog",
    about: "About",
    contactUs: "Contact Us",
    
    // Hero Section
    heroSubtitle: "Kenya's Premier Property Investment Platform",
    heroTitle: "Creating and protecting <br> wealth <em>through property</em>",
    heroDescription: "Over a decade of experience helping individuals build high-performing buy-to-let property portfolios.",
    bookACall: "Book a Call",
    
    // Statistics
    registeredInvestors: "Registered Investors",
    yearsInBusiness: "Years In Business",
    buildingsInvestedIn: "Buildings Invested In",
    
    // Featured Properties
    featuredProperties: "Featured Properties",
    discoverInvestment: "Discover Your Next <em>Investment Opportunity</em>",
    
    // Property Card
    forSale: "For Sale",
    forRent: "For Rent",
    beds: "beds",
    baths: "baths",
    parking: "parking",
    viewDetails: "View Details",
    scheduleVisit: "Schedule Visit",
    
    // Search & Filters
    searchPlaceholder: "Search properties by name, location, or features...",
    propertyType: "Property Type",
    status: "Status",
    location: "Location",
    priceRange: "Price Range",
    bedrooms: "Bedrooms",
    allTypes: "All Types",
    allStatuses: "All",
    allLocations: "All Locations",
    allPrices: "All Prices",
    anyBedrooms: "Any",
    sortBy: "Sort By",
    clearAll: "Clear All",
    apartmentsFound: "apartments found",
    
    // Sort Options
    newestFirst: "Newest First",
    oldestFirst: "Oldest First",
    priceLowToHigh: "Price: Low to High",
    priceHighToLow: "Price: High to Low",
    mostBedrooms: "Most Bedrooms",
    leastBedrooms: "Least Bedrooms",
    largestSize: "Largest Size",
    smallestSize: "Smallest Size",
    
    // Portfolio Landlords Section
    portfolioLandlords: "Portfolio Landlords",
    managePortfolio: "Let us <em>manage your portfolio</em> <br>more effectively or help you exit",
    learnMore: "Learn More",
    
    // Building Property Section
    weMake: "We Make",
    buildingProperty: "Building Property Portfolios",
    simple: "Simple",
    buildingDescription: "We help you get started faster, avoid costly mistakes and take the stress out of managing and growing your portfolio.",
    
    // Portfolio Triggers
    findBestInvestment: "Find the Best <br>Investment for You",
    findBestDescription: "Too many options make investing overwhelming. We'll help you sort through the noise and access the best opportunities.",
    handleTenanting: "We Handle Tenanting and Management",
    handleTenantingDescription: "We take care of everything, managing your property anywhere in the UK.",
    sellWhenReady: "Sell When You're Ready",
    sellWhenReadyDescription: "When it's time to sell, we'll manage the entire process, whether it's one property or your whole portfolio.",
    
    // CTA Section
    bookCallNow: "Book a Call Now",
    getToKnow: "Let's get to know each other and <em>set your goals</em> together",
    
    // What Happens Next
    whatHappensNext: "What happens next…",
    scheduleConsultation: "Schedule Your Initial Consultation",
    consultationDescription: "Connect with our investment specialists for a personalized 15-minute consultation to assess your investment readiness and discuss your property goals.",
    tailoredStrategy: "Tailored Investment Strategy",
    tailoredStrategyDescription: "Our experts will create a customized investment plan and present carefully selected opportunities that align with your financial objectives and risk profile.",
    portfolioLaunch: "Portfolio Launch & Ongoing Support",
    portfolioLaunchDescription: "Your investment portfolio goes live with continuous monitoring, regular updates on new opportunities, and comprehensive management support as you expand.",
    
    // Testimonials
    seeWhatClientsSay: "See What Clients Say",
    testimonial1: "I wouldn't work with <em>anyone else</em> in the market.",
    testimonial2: "Experts in their field and couldn't recommend <em>enough</em>.",
    testimonial3: "They offer an <em>end-to-end solution</em> and <em>extensive knowledge</em> of the changing Buy-to-Let landscape.",
    
    // Final CTA
    nextSteps: "Next Steps",
    readyToInvest: "Ready to invest? <em>Get in touch</em> to start your property journey now.",
    
    // Footer
    footerDescription: "We find clients the best off-market properties for achieving long term capital growth and rental income.",
    clientLogin: "Client Login",
    copyright: "Copyright 2024 Zentro Homes.",
    privacyPolicy: "Privacy and Cookie Policy",
    designCredits: "Design credits",
    company: "Company",
    findYourNextInvestment: "Find your next investment",
    sellYourPortfolioFooter: "Sell your portfolio",
    newInvestorsFooter: "New investors",
    existingLandlords: "Existing Landlords",
    internationalBuyersFooter: "International Buyers",
    
    // Property Types
    villa: "Villa",
    apartment: "Apartment",
    penthouse: "Penthouse",
    condo: "Condo",
    
    // Locations
    kilimani: "Kilimani",
    westlands: "Westlands",
    lavington: "Lavington",
    kileleshwa: "Kileleshwa",
    parklands: "Parklands",
    runda: "Runda",
    nairobi: "Nairobi",
    kenya: "Kenya",
    
    // Amenities
    swimmingPool: "Swimming Pool",
    garden: "Garden",
    security: "Security",
    parkingAmenity: "Parking",
    modernKitchen: "Modern Kitchen",
    balcony: "Balcony",
    roofTerrace: "Roof Terrace",
    cityView: "City View",
    elevator: "Elevator",
    smartHome: "Smart Home",
    ecoFriendly: "Eco-Friendly",
    airConditioning: "Air Conditioning",
    gardenAccess: "Garden Access",
    clubhouse: "Clubhouse",
    privateGarden: "Private Garden",
    
    // No Results
    noApartmentsFound: "No apartments found",
    adjustCriteria: "Try adjusting your search criteria or clearing filters",
    clearFilters: "Clear Filters"
  },
  
  so: {
    // Header
    solutions: "Xalalka",
    findYourInvestment: "Raadi Maalgashadaada",
    lettingManagement: "Kiraynta & Maamulka",
    sellYourPortfolio: "Iib Hantidaada",
    whoWeWorkWith: "Kuwa Aan La Shaqayno",
    newInvestors: "Maalgashadayaal Cusub",
    portfolioLandlords: "Milkiile Hanti",
    internationalBuyers: "Iibsadayaal Caalami ah",
    blog: "Blog",
    about: "Ku Saabsan",
    contactUs: "Nala Soo Xiriir",
    
    // Hero Section
    heroSubtitle: "Barnamijka Ugu Weyn ee Maalgashada Hantida Kenya",
    heroTitle: "Abuurista iyo ilaalinta <br> hodanka <em>iyada oo loo marayo hantida</em>",
    heroDescription: "In ka badan toban sano oo khibrad ah oo lagu caawinayo dadka inay dhisaan hanti-iibsi oo heer sare ah.",
    bookACall: "Deeji Wicitaan",
    
    // Statistics
    registeredInvestors: "Maalgashadayaal Diiwaangashan",
    yearsInBusiness: "Sano Ganacsi",
    buildingsInvestedIn: "Dhismayaal Lagu Maalgashaday",
    
    // Featured Properties
    featuredProperties: "Hantida Muhiimka ah",
    discoverInvestment: "Hel Fursadda Maalgashadaada ee <em>Xigta</em>",
    
    // Property Card
    forSale: "Waa La Iibinayaa",
    forRent: "Waa La Kiraysanayaa",
    beds: "sariir",
    baths: "musqullo",
    parking: "baarid",
    viewDetails: "Eeg Faahfaahinta",
    scheduleVisit: "Deji Booqasho",
    
    // Search & Filters
    searchPlaceholder: "Raadi hanti magaca, goobta, ama sifooyinka...",
    propertyType: "Nooca Hantida",
    status: "Xaalka",
    location: "Goobta",
    priceRange: "Qiimaha Kala Duwan",
    bedrooms: "Qolka Jiifka",
    allTypes: "Dhammaan Noocyada",
    allStatuses: "Dhammaan",
    allLocations: "Dhammaan Goobaha",
    allPrices: "Dhammaan Qiimaha",
    anyBedrooms: "Kasta",
    sortBy: "Ku Kala Sooc",
    clearAll: "Tirtir Dhammaan",
    apartmentsFound: "apartment-yo la helay",
    
    // Sort Options
    newestFirst: "Kuwa Cusub Marka Hore",
    oldestFirst: "Kuwa Duugan Marka Hore",
    priceLowToHigh: "Qiimaha: Hoose ilaa Sare",
    priceHighToLow: "Qiimaha: Sare ilaa Hoose",
    mostBedrooms: "Sariiraha Baddan",
    leastBedrooms: "Sariiraha Yar",
    largestSize: "Cabbirka Ugu Weyn",
    smallestSize: "Cabbirka Ugu Yar",
    
    // Portfolio Landlords Section
    portfolioLandlords: "Milkiile Hanti",
    managePortfolio: "Noo daa inaan <em>si hufan u maamulno hantidaada</em> <br>ama ku caawino inaad ka baxdo",
    learnMore: "Wax Badan Baro",
    
    // Building Property Section
    weMake: "Waxaan Ka Dhignaa",
    buildingProperty: "Dhisidda Hantida Portfolio",
    simple: "Fudud",
    buildingDescription: "Waxaan ku caawinaa inaad si dhaqso leh u bilowdo, ka fogaato khaladaadka kharash badan, oo ka saaro culayska maamulka iyo kordhinta hantidaada.",
    
    // Portfolio Triggers
    findBestInvestment: "Hel Maalgashada <br>Ugu Fiican",
    findBestDescription: "Doorasho badan ayaa maalgashada ka dhiga mid murugsan. Waxaan ku caawinaa inaad kala soocdo buuqa oo aad heshid fursadaha ugu fiican.",
    handleTenanting: "Waxaan Masuulka Ka Qaadanaa Kiraynta iyo Maamulka",
    handleTenantingDescription: "Waxaan daryeelnaa wax walba, anagoo maamulna hantidaada meel kasta oo UK ah.",
    sellWhenReady: "Iib Markaad Diyaar Tahay",
    sellWhenReadyDescription: "Markaad diyaar u tahay inaad iibiso, waxaan maamuli doonnaa hannaan dhan, hal hanti ha ahaato ama hantidaada oo dhan.",
    
    // CTA Section
    bookCallNow: "Deeji Wicitaan Hadda",
    getToKnow: "Aynu is baarno <em>oo aynu wada dejino yoolalkaan</em>",
    
    // What Happens Next
    whatHappensNext: "Maxaa xigta…",
    scheduleConsultation: "Deji La-tashigaaga Bilowga ah",
    consultationDescription: "Kula xiriir takhaasusyadeena maalgashada si aad u hesho la-tashiga gaarka ah ee 15-daqiiqo ah si loo qiimeeyo diyaaradaada maalgashada oo lala hadlo yoolalka hantidaada.",
    tailoredStrategy: "Istiraatiijiyad Gaarka ah",
    tailoredStrategyDescription: "Khabiiradeenu waxay abuuri doonaan qorshe maalgasho oo gaarka ah waxayna soo bandhigi doonaan fursado si taxadir leh loo doortay oo waafaqsan yoolalka maaliyadeed iyo heerka khatarta.",
    portfolioLaunch: "Bilaabida Portfolio iyo Taageero Joogto ah",
    portfolioLaunchDescription: "Hantidaada maalgashada ayaa shaqeysa oo waxaa la raacayaa si joogto ah, warbixinno joogto ah oo ku saabsan fursado cusub, iyo taageero guud oo maamul ah markii aad ballaariso.",
    
    // Testimonials
    seeWhatClientsSay: "Eeg Waxa Macaamiishu Yidhaahdaan",
    testimonial1: "Ma shaqayn karo <em>qof kale</em> suuqa gudahiisa.",
    testimonial2: "Khabiiro goobtooda ah mana karin inaan <em>ku talinayo</em>.",
    testimonial3: "Waxay bixiyaan <em>xal dhammaystiran</em> iyo <em>aqoon ballaaran</em> oo ku saabsan isbeddelka muuqaalka Buy-to-Let.",
    
    // Final CTA
    nextSteps: "Talaabada Xigta",
    readyToInvest: "Diyaar u tahay inaad maalgashato? <em>Nala soo xiriir</em> si aad u bilowdo safarkaaga hantida hadda.",
    
    // Footer
    footerDescription: "Waxaan macaamiisha u helaynaa hantida ugu fiican ee aan suuqa ku jirin si ay u gaadhaan koritaanka raasumaalka muddada dheer iyo dakhliga kiraynta.",
    clientLogin: "Galitaanka Macmiilka",
    copyright: "Xuquuqda Daabacaadda 2024 Zentro Homes.",
    privacyPolicy: "Siyaasadda Sirta iyo Cookie",
    designCredits: "Astaamaha nashqadda",
    company: "Shirkadda",
    findYourNextInvestment: "Hel maalgashadaada xigta",
    sellYourPortfolioFooter: "Iib hantidaada",
    newInvestorsFooter: "Maalgashadayaal cusub",
    existingLandlords: "Milkiile Jira",
    internationalBuyersFooter: "Iibsadayaal Caalami ah",
    
    // Property Types
    villa: "Villa",
    apartment: "Apartment",
    penthouse: "Penthouse",
    condo: "Condo",
    
    // Locations
    kilimani: "Kilimani",
    westlands: "Westlands",
    lavington: "Lavington",
    kileleshwa: "Kileleshwa",
    parklands: "Parklands",
    runda: "Runda",
    nairobi: "Nairobi",
    kenya: "Kenya",
    
    // Amenities
    swimmingPool: "Barkadda Dabbaasha",
    garden: "Beerta",
    security: "Amniga",
    parkingAmenity: "Baaridka",
    modernKitchen: "Jikada Casriga ah",
    balcony: "Balcony",
    roofTerrace: "Saqafka Terrace",
    cityView: "Muuqaalka Magaalada",
    elevator: "Lifka",
    smartHome: "Guri Caqli ah",
    ecoFriendly: "Eco-Saaxiib",
    airConditioning: "Qaboojinta Hawada",
    gardenAccess: "Galitaanka Beerta",
    clubhouse: "Guriga Naadiga",
    privateGarden: "Beer Gaara ah",
    
    // No Results
    noApartmentsFound: "Apartment-yo lama helin",
    adjustCriteria: "Isku day inaad wax ka beddesho shuruudaha raadinta ama tirtirto filteryada",
    clearFilters: "Tirtir Filteryada"
  }
};

// Translation Manager
class TranslationManager {
  constructor() {
    this.currentLang = localStorage.getItem('language') || 'en';
    this.init();
  }
  
  init() {
    this.bindEvents();
    this.translatePage();
    this.updateLanguageButton();
  }
  
  bindEvents() {
    // Language toggle button
    document.getElementById('language-toggle')?.addEventListener('click', () => {
      this.toggleLanguageDropdown();
    });
    
    // Language options
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', (e) => {
        e.preventDefault();
        const lang = e.target.dataset.lang;
        this.switchLanguage(lang);
      });
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.language-selector')) {
        this.closeLanguageDropdown();
      }
    });
  }
  
  toggleLanguageDropdown() {
    const dropdown = document.getElementById('language-dropdown');
    dropdown.classList.toggle('active');
  }
  
  closeLanguageDropdown() {
    const dropdown = document.getElementById('language-dropdown');
    dropdown.classList.remove('active');
  }
  
  switchLanguage(lang) {
    this.currentLang = lang;
    localStorage.setItem('language', lang);
    this.translatePage();
    this.updateLanguageButton();
    this.updateLanguageOptions();
    this.closeLanguageDropdown();
  }
  
  updateLanguageButton() {
    const btn = document.querySelector('.language-text');
    if (btn) {
      btn.textContent = this.currentLang.toUpperCase();
    }
  }
  
  updateLanguageOptions() {
    document.querySelectorAll('.language-option').forEach(option => {
      option.classList.remove('active');
      if (option.dataset.lang === this.currentLang) {
        option.classList.add('active');
      }
    });
  }
  
  translatePage() {
    const currentTranslations = translations[this.currentLang];
    
    // Translate elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
      const key = element.dataset.translate;
      if (currentTranslations[key]) {
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
          element.placeholder = currentTranslations[key];
        } else {
          element.innerHTML = currentTranslations[key];
        }
      }
    });
    
    // Translate apartment data if exists
    if (window.apartmentManager) {
      window.apartmentManager.translateApartments();
    }
  }
  
  translate(key) {
    return translations[this.currentLang][key] || translations.en[key] || key;
  }
}

// Initialize translation manager when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  window.translationManager = new TranslationManager();
});